{% extends 'base.html' %}

{% block title %}Edit Information{% endblock %}

{% block page_styles %}
<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/bootstrap-select.css')}}">
<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/bootstrap-select.css.map')}}">
{% endblock %}

{% block page_content %}
<div class="revise-info-wrap form-wrapper">
    <form class="" method="post" action="/revise_info/revise_detail_info">
        <h1>Edit Information</h1>
        <input type="hidden" name="csrf_token" id="csrf_token" value="{{csrf_token()}}">
        <div class="mb-3 form-group">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" name="name" required>
        </div>
        <div class="mb-3 form-group">
            <label for="sex" class="form-label">Gender</label>
            <select class="form-control" required id="sex" name="sex">
                <option value="" selected disabled>--Select Gender--</option>
                <option value="Female">Female</option>
                <option value="Male">Male</option>
            </select>
        </div>
        <div class="mb-3 form-group">
            <label for="college" class="form-label">College</label>
            <select class="selectpicker form-control" data-width="100%" required id="college" name="college">
            </select>
        </div>
        {% if role %}
        <div class="mb-3 form-group">
            <label for="major" class="form-label">Major</label>
            <select class="selectpicker form-control" data-width="100%" required id="major" name="major">
            </select>
        </div>
        <div class="mb-3 form-group">
            <label for="in_year" class="form-label">Grade</label>
            <select class="form-control" required id="in_year" name="in_year">
                <option value="" selected disabled>--Select Grade--</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
                <option value="2019">2019</option>
                <option value="2018">2018</option>
                <option value="2017">2017</option>
                <option value="2016">2016</option>
                <option value="2015">2015</option>
                <option value="2014">2014</option>
            </select>
        </div>
        {% else %}
         <div class="mb-3 form-group">
            <label for="in_year" class="form-label">Year of Admission</label>
            <select class="form-control" required id="in_year" name="in_year">
                <option value="" selected disabled>--Select Year--</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
                <option value="2019">2019</option>
                <option value="2018">2018</option>
                <option value="2017">2017</option>
                <option value="2016">2016</option>
                <option value="2015">2015</option>
                <option value="2014">2014</option>
                <option value="2013">2013</option>
                <option value="2012">2012</option>
                <option value="2011">2011</option>
                <option value="2009">2009</option>
                <option value="2008">2008</option>
                <option value="2007">2007</option>
                <option value="2006">2006</option>
                <option value="2005">2005</option>
                <option value="2004">2004</option>
                <option value="2003">2003</option>
                <option value="2001">2001</option>
                <option value="2000">2000</option>
                <option value="1999">1999</option>
                <option value="1998">1998</option>
                <option value="1997">1997</option>
                <option value="1996">1996</option>
                <option value="1995">1995</option>
                <option value="1994">1994</option>
            </select>
        </div>
        <div class="mb-3 form-group">
            <label for="teacher_title" class="form-label">Teacher Title</label>
            <select class="form-control" required id="teacher_title" name="teacher_title">
                <option value="" selected disabled>--Select Title--</option>
                <option value="教授">Professor</option>
                <option value="副教授">Associate Professor</option>
                <option value="高级教师">Senior Teacher</option>
                <option value="特评教师">Distinguished Teacher</option>
                <option value="教师">Teacher</option>
            </select>
        </div>
        {% endif %}
        <button type="submit" class="btn btn-primary btn-block">Modify</button>
        <button type="" class="btn btn-success btn-block"
            onclick="javascript:window.location.href='/personal_information';return false">Return</button>
    </form>
</div>
{% endblock %}

{% block page_scripts %}
<script src="{{ url_for('static', filename="js/bootstrap-select.js") }}"></script>
<script>
    $.fn.selectpicker.Constructor.BootstrapVersion = '4';

    $(function () {
        college = getCollege()
        major = getMajor()
        initCollege()
        initMajor()
    })


    // 选项改变
    $('#college').change(function () {
        $("#major").empty()
        $("#major").find("option:not(:first)").remove();
        $("#major").selectpicker('refresh');

        var college_ = $("#college").val();
        initMajor(college_);
    })
</script>
{% endblock %}